{"version":3,"sources":["utils/utils.js","components/Row.js","components/Thead.js","components/ExpandableRow.js","components/Table.js","components/Tbody.js","containers/App.js","index.js"],"names":["headerDict","u","bill_id","bill_name","last_move","current_status","pass-fail","passFailDict","pass","fail","statusDict","In committee","Awaiting floor vote","In conference committee","On governor's desk","Failed floor vote","Governor signed","Governor vetoed","Enacted without Governor's signature","Awaiting override vote","Veto overridden","Veto upheld","Approved, held for next biennium","Approved second time, awaiting public vote","Amendment passed","parseDate","timeParse","formatTime","timeFormat","Row","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","headers","header","parseHeader","parseBody","data","map","d","react_default","a","createElement","className","key","href","date","prototype","toString","formatDate","e","toUpperCase","_this2","cells","renderBodyCells","renderRows","Component","Thead","components_Row","Table","expandedRows","setState","rowId","currentExpandedRows","newExpandedRows","includes","filter","id","concat","item","itemRows","onClick","handleRowClick","name","status","push","colSpan","_this3","console","log","allItemRows","forEach","perItemRows","renderItem","components_Thead","ExpandableRow","App","fetchData","csv","then","components_Table","ReactDOM","render","containers_App","document","getElementById"],"mappings":"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","file":"static/js/main.a4e35cc5.chunk.js","sourcesContent":["import {timeFormat,timeParse} from 'd3-time-format';\n\nexport const headerDict = {\n    \"u\":\"\",\n    \"bill_id\":\"Bill\",\n    \"bill_name\":\"\",\n    \"last_move\":\"Last update\",\n    \"current_status\":\"Status\",\n    \"pass-fail\":\"\"\n};\n\nexport const passFailDict = {\n    \"pass\":\"check\",\n    \"fail\":\"times\"\n};\n\nexport const statusDict = {\n    \"In committee\":\"committee\",\n    \"Awaiting floor vote\":\"vote\",\n    \"In conference committee\":\"vote\",\n    \"On governor's desk\":\"sign\",\n    \"Failed floor vote\":\"fail\",\n    \"Governor signed\":\"pass\",\n    \"Governor vetoed\":\"veto\",\n    \"Enacted without Governor's signature\":\"pass\",\n    \"Awaiting override vote\":\"veto\",\n    \"Veto overridden\":\"pass\",\n    \"Veto upheld\":\"fail\",\n    \"Approved, held for next biennium\":\"held\",\n    \"Approved second time, awaiting public vote\":\"held\",\n    \"Amendment passed\":\"pass\"\n};\n\nexport const parseDate = timeParse('%m/%d/%Y');\nconst formatTime = timeFormat('%a, %b %d');\n\nexport const formatDate = (d) => {\n    const isDate = Object.prototype.toString.call(d) === '[object Date]';\n    return isDate ? formatTime(d) : \"\";\n};\n","import React, {Component} from 'react';\n\nimport {headerDict,statusDict,formatDate,parseDate} from '../utils/utils';\n\nclass Row extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"headers\":[\n                \"u\",\n                \"bill_id\",\n                \"bill_name\",\n                \"current_status\"\n            ]\n        };\n    }\n\n    renderRows() {\n        return this.props.header ? this.parseHeader() : this.parseBody();\n    }\n\n    renderBodyCells(data,headers) {\n        const cells = headers.map(d => {\n            if (d === 'url') {\n                return (\n                    <td className={d} key={d}>\n                        <a href={data[d]}>\n                            <i className=\"fas fa-external-link-alt\"></i>\n                        </a>\n                    </td>\n                );\n            } else if (d === 'current_status') {\n                return (\n                    <td className={statusDict[data[d]]} key={d}>\n                        <p className={\"status\"}>{data[d]}</p>\n                    </td>\n                );\n            } else if (d === 'last_move') {\n                const date = parseDate(data[d]);\n\n                return (\n\n                    <td className={d} key={d}>{formatDate(date)}</td>\n                );\n            } else {\n                return (\n                    <td className={d} key={d}>{data[d]}</td>\n                );\n            }\n        });\n\n        return cells;\n    };\n\n    parseHeader() {\n        const headers = this.state.headers.map(e => {\n                return (\n                    <th key={e} className={\"header-value\"}>{headerDict[e].toUpperCase()}</th>\n                );\n            });\n\n        return (\n            <tr className={\"header-row\"}>{headers}</tr>\n        );\n    }\n\n    parseBody() {\n        const d = this.props.data;\n        // const headers = Object.keys(d[0]);\n        // const headers = [\"bill_id\", \"bill_name\", \"current_status\", \"last_move\", \"url\"];\n        return d.map(e => {\n            const cells = this.renderBodyCells(e,this.state.headers);\n            return (\n                <tr key={e.bill_name}>{cells}</tr>\n            );\n        });\n\n    }\n\n    render() {\n        return (\n            this.renderRows()\n        );\n    }\n}\n\nexport default Row;\n","import React, {Component} from 'react';\n\nimport Row from './Row';\n\nclass Thead extends Component {\n\n    render() {\n        return (\n            <thead>\n                <Row header data={this.props.data} />\n            </thead>\n        );\n    }\n}\n\nexport default Thead;\n","import React, {Component} from 'react';\n\nimport Thead from './Thead';\nimport Tbody from './Tbody';\n\nimport {passFailDict} from '../utils/utils';\n\nclass Table extends Component {\n    constructor() {\n        super();\n\n        this.state = {\n            data : [],\n            expandedRows : []\n        };\n    }\n\n    componentDidMount() {\n        this.setState({data: this.props.data});\n    }\n\n    handleRowClick(rowId) {\n        const currentExpandedRows = this.state.expandedRows;\n        const isRowCurrentlyExpanded = currentExpandedRows.includes(rowId);\n\n        const newExpandedRows = isRowCurrentlyExpanded ?\n        currentExpandedRows.filter(id => id !== rowId) :\n        currentExpandedRows.concat(rowId);\n\n        this.setState({expandedRows: newExpandedRows});\n    }\n\n    renderItem(item) {\n        const clickCallback = () => this.handleRowClick(item.id);\n\n        const itemRows = [\n            <tr className={\"table-row\"} onClick={clickCallback} key={\"row-data-\" + item.id}>\n                <td>{\"ic\"}</td>\n                <td>{item.id}</td>\n                <td>{item.name}</td>\n                <td><i className={`fas fa-${passFailDict[item[\"pass-fail\"]]}`}></i> {`${item.status}`}</td>\n            </tr>\n        ];\n\n        if (this.state.expandedRows.includes(item.id)) {\n            itemRows.push(\n                <tr className={\"table-row-expansion\"} key={\"row-expanded-\" + item.id}>\n                    <td>{\"\"}</td>\n                    <td colSpan={3}>\n                        <p>\n                            {`${item[\"summary-text\"]}  -`} <em>{`by ${item[\"summary-author\"]}`}</em>\n                        </p>\n                        <p>\n                            <span>{`H:${item['house-vote']}`}</span>\n                            <span>{`S:${item[\"senate-vote\"]}`}</span>\n                        </p>\n                    </td>\n                </tr>\n            );\n        }\n\n        return itemRows;\n\n        }\n\n    render() {\n        console.log(this.state.data);\n        let allItemRows = [];\n\n        this.state.data.forEach(d => {\n            const perItemRows = this.renderItem(d);\n            allItemRows = allItemRows.concat(perItemRows);\n\n        });\n\n        return (\n            <tbody className='table'>{allItemRows}</tbody>\n        );\n    }\n}\n\nexport default Table;\n","import React, {Component} from 'react';\n\nimport Thead from './Thead';\nimport Tbody from './Tbody';\nimport ExpandableRow from './ExpandableRow';\n\nclass Table extends Component {\n\n    render() {\n        // console.log(this.props.data);\n\n        if (!this.props.data) {\n            return (\n                <div className={\"load_filler_container\"}>\n                    <div className={\"load_filler\"}></div>\n                    <div className={\"load_filler\"}></div>\n                    <div className={\"load_filler\"}></div>\n                    <div className={\"load_filler\"}></div>\n                    <div className={\"load_filler\"}></div>\n                </div>\n            );\n\n        }\n        else {\n            return (\n                <table className='table'>\n                    <Thead data={this.props.data} />\n                    <ExpandableRow data={this.props.data} />\n                </table>\n            );\n        }\n\n    }\n}\n\nexport default Table;\n","import React, {Component} from 'react';\n\nimport Row from './Row';\nimport ExpandableRow from './ExpandableRow';\n\nclass Tbody extends Component {\n\n    render() {\n        console.log(this.props.data);\n        return (\n            <tbody>\n                <ExpandableRow />\n            </tbody>\n        );\n    }\n}\n\nexport default Tbody;\n// <Row data={this.props.data} />\n","import React, {Component} from 'react';\nimport {csv} from 'd3-fetch';\n\nimport Table from '../components/Table';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    fetchData() {\n        // const data = fetch('https://vtdigger.org/wp-json/wp/v2/2019_bills?per_page=20');\n        const data = csv('./data/data.csv',d => d);\n        data.then((data) => {\n\n                this.setState({\n                    data:data\n                });\n                return data;\n            });\n    }\n\n    render() {\n        return (\n            <div className={\"table-container\"}>\n                <Table data={this.state.data}/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// import React\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// import font awesome\nimport '@fortawesome/fontawesome-free/js/fontawesome';\nimport '@fortawesome/fontawesome-free/js/solid';\n\n// importing component\nimport App from './containers/App';\n\nimport './style/main.css';\n\nReactDOM.render(\n    <div className={\"app-container\"}>\n        <App/>\n    </div>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}